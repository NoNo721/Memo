# Vim笔记

[toc]

-------------------

**Vim**作为**Linux**系统自带的文本编辑器，掌握如何使用是很有必要的。

## Vim模式
* **Normal** 模式：进入Vim后的一般模式。
* **Insert** 模式：按下`i`键后进入插入模式，可以修改文档。
* **Visual** 模式：按下`v`键后进入选择模式，可以选择文档内容

## Vim退出
1. `:q`：退出。
2. `:q!`：强制退出，放弃所有修改。
3. `:wq`：保存修改并退出。

## 常用快捷键
1. 方向键$\leftarrow\downarrow \uparrow \rightarrow$也可以用`h、j、k、l`。
2. `0`到行首，`$`到行尾。
3. `gg`到文档首行，`G`到文档结尾。
4. `Ctrl`+`f`下一页，`Ctrl`+`b`上一页。
5. `Ctrl`+`u`往上半页，`Ctrl`+`d`往下半页。
6. `w`或`e`光标往后跳一个单词，`b`光标往前跳一个单词。
7. `:98`跳转到第98行。

## 复制粘贴
1. 在**Visual**模式下选择文档内容后按`y`键，复制被选择内容。

2. 按`p`键粘贴，注意粘贴从**紧跟光标后的那个字符**之后才开始。
	
	>abc $\big|$d **"COPIED_TEXT"** efghk...  ( $\big|$是光标)

3. 选择内容后按`d`删除或者剪贴。
4. `yy`复制当前行，`dd`删除(剪贴)当前行。

## 查找和替换

### 查找
1. 在**Normal**模式下，按`/`进入查找模式，输入`/word`后回车，高亮显示所有文档`word`，按`n`跳到下一个`word`,按`N`跳到上一个。
2. 若输入`/word\c`代表大小写不敏感查找，`/C`代表大小写敏感。
3. 输入`:noh`取消高亮。
4. 按下`*`高亮查找光标位置处的单词，但若查找`word`,`helloword`中的`word`不会被高亮。
5. 按下`g*`高亮查找光标位置处的单词，若查找`word`,`helloword`中的`word`也会被高亮。

### 替换
1. `:s/word/excel`：替换当前行所有`word`为`excel`。
2. `:s/word/excel/g`：替换当前行第一个`word`为`excel`,`/g`代表只替换每行第一个
3. `:%s/word/excel`：替换全文所有`word`为`excel`。
4. `:%s/word/excel/gc`：其中`/c`代表需要确认，并提示：`replace with excel (y/n/a/q/l/^E/^Y)?`，其中`a`表示替换所有，`q`表示退出查找模式， `l`表示替换当前位置并退出，`^E`与`^Y`是光标移动快捷键。
5. `:2,11s/word/excel`：替换第2到11行的`word`为`excel`。
6. `:.,$s/word/excel`：替换当前行到最后一行的`word`为`excel`，`.`代表当前行，`$`代表最后一行。
7. `:.,+2s/word/excel`：替换当前行与接下来2行的`word`为`excel`。
8. 在**Visual**模式下选择后按`:`,Vim自动补全为`:'<,'>`,然后手动补全`:'<,'>s/word/excel`，将选择区域的`word`替换为`excel`。
9. `:s/word/excel/i`：`/i`代表大小不敏感查找，等同于`:s/word\c/excel`，而`/I`代表大小写敏感查找。
